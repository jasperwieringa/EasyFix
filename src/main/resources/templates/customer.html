<!DOCTYPE HTML>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.w3.org/1999/xhtml" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{base}">
<div class="h-100 p-3 overflow-auto" layout:fragment="content">
	<section id="customer" class="d-flex mt-5">
		<div class="container">
			<div class="section-title" data-aos="fade-up">
				<h2 th:text="${customer.firstName + ' ' + customer.lastName}">name</h2>
			</div>

			<ul class="mt-2 list-group list-group-horizontal">
				<li class="list-group-item w-25">Name</li>
				<li class="list-group-item flex-fill" th:text="${customer.firstName + ' ' + customer.lastName}">name</li>
			</ul>
			<ul class="mt-2 list-group list-group-horizontal">
				<li class="list-group-item w-25">Address</li>
				<li class="list-group-item flex-fill" th:text="${customer.address}">address</li>
			</ul>
			<ul class="mt-2 list-group list-group-horizontal">
				<li class="list-group-item w-25">Postal code</li>
				<li class="list-group-item flex-fill" th:text="${customer.postalCode}">postalCode</li>
			</ul>
			<ul class="mt-2 list-group list-group-horizontal">
				<li class="list-group-item w-25">Town</li>
				<li class="list-group-item flex-fill" th:text="${customer.town}">town</li>
			</ul>
			<ul class="mt-2 list-group list-group-horizontal">
				<li class="list-group-item w-25">Email</li>
				<li class="list-group-item flex-fill" th:text="${customer.email}">email</li>
			</ul>
			<ul class="mt-2 list-group list-group-horizontal">
				<li class="list-group-item w-25">Phone</li>
				<li class="list-group-item flex-fill" th:text="${customer.phone}">phone</li>
			</ul>
		</div>
	</section>

	<section id="appointments" class="appointments mt-5">
		<div class="container">
			<div class="section-title" data-aos="fade-up">
				<h2>Appointments</h2>
			</div>

			<div th:switch="${customer.appointment}">
				<div th:case="null">
					<ul class="mt-2 mb-3 list-group list-group-horizontal">
						<li class="list-group-item flex-fill">No appointments to display</li>
					</ul>

					<div class="d-flex flex-column" th:each="err : ${#fields.errors('customer.*')}">
						<div th:insert="fragments/alerts/form_alerts :: errors">...</div>
					</div>
					<div class="d-flex flex-column" th:if="${success_message}">
						<div th:insert="fragments/alerts/form_alerts :: success">...</div>
					</div>

					<!-- Admin functions -->
					<div class="d-flex justify-content-end" sec:authorize="hasAuthority('ADMIN')">
						<button type="button" class="btn btn-success" data-toggle="modal" data-target="#newAppointmentModal">
							+ New appointment
						</button>
					</div>
				</div>
				<div th:case="*">
					<ul class="mt-2 list-group list-group-horizontal">
						<li class="list-group-item w-25">Computer</li>
						<li class="list-group-item flex-fill" th:text="${customer.appointment.computer}">computer</li>
					</ul>
					<ul class="mt-2 list-group list-group-horizontal">
						<li class="list-group-item w-25">Description</li>
						<li class="list-group-item flex-fill" th:text="${customer.appointment.description}">description</li>
					</ul>
					<ul class="mt-2 list-group list-group-horizontal">
						<li class="list-group-item w-25">Status</li>
						<li class="list-group-item flex-fill">
							<span th:if="${customer.appointment.status == T(com.main.easyFix.appointment.AppointmentStatus).REPORTED}" class="badge badge-info">Reported</span>
							<span th:if="${customer.appointment.status == T(com.main.easyFix.appointment.AppointmentStatus).REPAIRING}" class="badge badge-warning">Repairing</span>
							<span th:if="${customer.appointment.status == T(com.main.easyFix.appointment.AppointmentStatus).COMPLETE}" class="badge badge-primary">Complete</span>
							<span th:if="${customer.appointment.status == T(com.main.easyFix.appointment.AppointmentStatus).PAID}" class="badge badge-success">Paid</span>
							<span th:if="${customer.appointment.status == T(com.main.easyFix.appointment.AppointmentStatus).CANCELED}" class="badge badge-danger">Canceled</span>
						</li>
					</ul>
					<ul class="mt-2 list-group list-group-horizontal">
						<li class="list-group-item w-25">Date</li>
						<li class="list-group-item flex-fill" th:text="${customer.appointment.date}">date</li>
					</ul>
					<ul class="mt-2 list-group list-group-horizontal">
						<li class="list-group-item w-25">Issues</li>
						<li class="list-group-item flex-fill" th:text="${customer.appointment.issues}">issues</li>
					</ul>
					<ul class="mt-2 list-group list-group-horizontal">
						<li class="list-group-item w-25">Executed activities</li>
						<li class="list-group-item flex-fill" th:text="${customer.appointment.activities}">activities</li>
					</ul>
				</div>
			</div>
		</div>

		<div th:insert="fragments/dialogs/new_appointment :: dialog">...</div>
	</section>
</div>
</html>